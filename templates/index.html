<!DOCTYPE html>
<html>
<head>
    <title>Heart Disease Risk Assessment</title>
	<style>
		body {
			background-color: #011529;
			font-family: arial;
		}
		.container {
			width: 1400px;
			margin: 0 auto;			
		}
		.text-center {
			text-align: center;
		}
		table {
			margin: 0 auto;
		}
		th, td {
			padding: 10px;			
		}
		p {
			margin: 0;
			padding: 0;			
		}
		.innerWrapper {
			vertical-align: top;
		}
		input {
			font-size: 16px;
			width: 400px;
			padding: 3px 10px;
			margin: 4px 0;
			height: 45px;
			box-sizing: border-box;
			border-radius: 10px;
		}
		textarea {
			font-size: 16px;
			width: 400px;
			height: 400px;
			padding: 10px 10px;
			margin: 4px 0;			
			box-sizing: border-box;
			border-radius: 10px;
		}
		input[type=submit] {
			background: #f38420;
			width: 60%;
			padding: 0px 20px;    
			box-sizing: border-box;
			text-align: center;
			margin: 0 auto;
			border-radius: 10px;
			color: #ffffff;
			font-size: 18px;
		}
	</style>
</head>
<body>
	
	<div class="container">
		<div class="text-center">
			<img src="https://www.cloudvative.com/img/logo-white.png" alt="https://www.cloudvative.com" class="text-center" width="220" />
		</div>
		<div id="suggestions">	
		</div>
		<h1 class="text-center" style="color:whitesmoke;">Heart Disease Risk Assessment</h1>
		<form method="POST" id="myForm">

			<table>
				<h1 style="color:whitesmoke;"></h1>
				<tr>
				  <td class="innerWrapper">				  
					<table>
						<tr>
						  <td><label style="color:whitesmoke;"for="age">Age (in years): </label></td>
						  <td><input type="number" name="age" required><br></td>
						</tr>
						<tr>
							<td><label style="color:whitesmoke;"for="sex">Gender (0 for female, 1 for male): </label></td>
							<td><input type="number" name="sex" required><br></td>
						</tr>
						<tr>
							<td> <label style="color:whitesmoke;"for="cigsPerDay">Number of cigarettes per day: </label></td>
							<td><input type="number" name="cigsPerDay" required><br></td>
						</tr>
						<tr>
							<td> <label style="color:whitesmoke;"for="totChol">Total Cholesterol (mg/dL): </label></td>
							<td><input type="number" name="totChol" required><br></td>
						</tr>
						<tr>
							<td> <label style="color:whitesmoke;"for="sysBP">Systolic Blood Pressure (mm Hg): </label></td>
							<td><input type="number" name="sysBP" required><br></td>
						</tr>
						<tr>
							<td><label style="color:whitesmoke;"for="glucose">Glucose Level (mg/dL): </label></td>
							<td><input type="number" name="glucose" required><br></td>
						</tr>						
					 </table>
				  </td>
				  <td class="innerWrapper">				  
					<table>
						<tr>
							<td colspan="2"><p><label style="color:whitesmoke;"for="result">Suggestions: </label></p><textarea name="Suggestions" id="suggestions" rows="4" cols="50"></textarea></td>
						</tr>
					 </table>
				  </td>
				</tr>
				<tr>
					<td colspan="2"><input type="submit" value="Submit"></td>
				</tr>

			  </table>
		</form>
	</div>
	  <script>
   document.addEventListener('DOMContentLoaded', function () {
      const form = document.getElementById('myForm'); // Select the form by its id

      form.addEventListener('submit', async function (event) {
         event.preventDefault(); // Prevent the default form submission behavior

         // Get the values of the input fields (age, sex, etc.)
         const age = parseFloat(document.querySelector('input[name="age"]').value);
         const sex = parseFloat(document.querySelector('input[name="sex"]').value);
         const cigsPerDay = parseFloat(document.querySelector('input[name="cigsPerDay"]').value);
         const totChol = parseFloat(document.querySelector('input[name="totChol"]').value);
         const sysBP = parseFloat(document.querySelector('input[name="sysBP"]').value);
         const glucose = parseFloat(document.querySelector('input[name="glucose"]').value);

         // Create a NumPy array from user inputs
         const user_data = [[age, sex, cigsPerDay, totChol, sysBP, glucose]];

         // Use the trained model to predict heart disease risk
         const heart_disease_prob = await predictRisk(user_data); // Implement your predictRisk function

         // Determine risk level and provide suggestions
         let riskLevel, suggestions;
         if (heart_disease_prob < 0.2) {
            riskLevel = "Low";
            suggestions = ["Maintain a healthy lifestyle.", "Regularly monitor your health."];
         } else if (0.2 <= heart_disease_prob < 0.6) {
            riskLevel = "Moderate";
            suggestions = ["Consult with a healthcare professional for personalized advice.", "Consider making lifestyle changes like diet and exercise."];
         } else {
            riskLevel = "High";
            suggestions = ["Urgently consult with a healthcare professional.", "Follow medical advice and treatment."];
         }

         // Display the risk level and suggestions on the page
         document.getElementById('suggestions').innerText = `Risk Level: ${riskLevel}\n\nSuggestions: ${suggestions.join("\n")}`;
      });
   });
</script>

</body>
</html>
